---
title: SMTP provider
sidebar_position: 3
---

# SMTP provider

To use this provider, you will need SMTP server credentials. Email templates are created using [MJML](https://mjml.io/) language and can be edited in the app dashboard. Dynamic parts of the email (for example the number of the order) can be added using [Handlebars](https://handlebarsjs.com/).

## Before you start - server credentials

Using this provider requires access to the SMTP server. Depending on your needs, you may use:

- [Amazon SES](https://aws.amazon.com/ses/)
- [Mailgun](https://www.mailgun.com/)
- [Mailtrap](https://mailtrap.io/)

## Creating configuration

1. Open the Emails and Messages app in Saleor Dashboard
2. Click on `Add provider`
3. Choose `SMTP`
4. Provide SMTP server credentials for your SMTP server
5. Click on `Save provider`. The application will redirect automatically to the configuration details
6. Enter sender details, which will be displayed as the author of the emails for your customers. Click on `Save provider`
7. In the events section choose which of the emails should be sent. You can also modify the template of the emails.
8. Click on `Save provider`

Now the application is configured and emails will be sent.

## Testing

If you don't have access to the SMTP server, you can use an external service for testing, for example:

- [Mailtrap](https://mailtrap.io/)
- [MailSlurp](https://www.mailslurp.com/)

Both services provide a free plan which will allow you to test email delivery.

:::tip

Both services have similar functionality. The following guide will use MailSlurp as an example.

:::

1. Create an account at [MailSlurp](https://www.mailslurp.com/)
2. Create a new inbox - [documentation](https://www.mailslurp.com/guides/creating-inboxes/)
3. Choose `SMTP` as the inbox type
4. Choose `Virtual inbox`. This will create an inbox that captures all emails, so none will be sent to the original addressee
5. Use credentials of the new inbox to configure the SMTP provider in the application

More information can be found in [the official guide](https://help.mailtrap.io/article/109-getting-started-with-mailtrap-email-testing).

### Local development

If you are a developer working on EAM and don't want to use an external service, you can use [MailHog](https://github.com/mailhog/MailHog), which comes pre-configured in this repository.

Requirements:

- Docker is installed
- `docker compose` command is available

To start the service:

1. Open the EAM app folder in terminal
2. Use the command `docker compose up`

Mailhog will start the SMTP server and web interface. Now you can update provider configuration:

- Host: `localhost`
- Port: `1025`
- The rest can be left empty

All emails will be captured by the MailHog service. To inspect emails, open `http://localhost:8025/` in your browser.
