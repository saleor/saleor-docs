---
title: App error codes
---

Below you'll find explanations for `AppErrorCode` values that can be returned during various app-related operations in Saleor, such as installing an app, fetching its manifest, updating an app, or deleting it. Each section explains what the error means, when it can happen, and what you should check or do to resolve it.

## AppErrorCode.INVALID_URL_FORMAT
This error is raised when a URL is malformed or uses an unsupported scheme. It can occur for field `manifestUrl` (when fetching app's manifest) or for any URL field within the manifest content (such as `tokenTargetUrl`, extension URLs, webhook `targetUrl`, or brand logo URLs).

This is checked after your request app installation via `appInstall` mutation, during background task validation.

- **Cause**: A URL (either `manifestUrl` or a URL inside the manifest) is invalid, malformed, or uses an unsupported scheme for its context. For example:
  - `manifestUrl` supports only `http://` or `https://`
  - webhook `targetUrl` allows additional schemes like `awssqs` and `gcpubsub` beyond `http` and `https`
- **Debugging Tips**:
  - Inspect the full manifest content and the `manifestUrl` you are submitting.
  - Identify the specific field and its invalid URL value from error details.
  - Confirm the expected URL format and allowed scheme for the specific field. For most fields, `http` or `https` is required, but some (like webhook `targetUrl`) allow additional schemes such as `awssqs` and `gcpubsub`. Refer to Saleor's [App Manifest documentation](/developer/extending/apps/architecture/manifest/) for the requirements per field.
  - Ensure all URLs are well-formed and use the correct scheme for their context.

## AppErrorCode.INVALID_PERMISSION
This error is raised when permissions specified in an app manifest (either at the app level or for an extension) are not recognized as valid permission within Saleor (`PermissionEnum`). This validation occurs when the manifest is processed, such as during an `appFetchManifest` call or as part of the `appInstall` process (which involves fetching and validating the manifest).

- **Cause**: The manifest requests permission that is not valid, incorrect input for `appInstall` mutation.
- **Debugging Tips**:
  - Review the full manifest content, specifically all `permissions` arrays (top-level and within `extensions`).
  - Compare these requested permissions with the list of available permissions in your Saleor instance. [Here you can typically find list of permissions](/developer/permissions.mdx#available-permissions)
  - Identify the specific unknown permission codename(s). Background worker logs (if the error occurs during asynchronous installation) or the `appFetchManifest` response should indicate the problematic codenames.

## AppErrorCode.OUT_OF_SCOPE_PERMISSION
This error can be raised in two main scenarios:

1.  **User Scope**: The user or staff member performing an action (e.g., `appInstall`, `appUpdate`) attempts to assign permissions to an app that they themselves do not possess.
2.  **Manifest Scope**: An extension defined within the app's manifest requests a permission that is not also declared in the app's main (top-level) `permissions` array. This validation occurs during manifest processing (e.g., by `appFetchManifest` or as part of the `appInstall` background task).

- **Cause**:
    - The installing/updating user lacks some of the permissions they are trying to assign to the app.
    - An extension in the manifest requires a permission not listed in the app's main (top-level) `permissions` list.
- **Debugging Tips**:

    **If the error occurs during app installation or update (User Scope):**
    - Verify that your account (the account performing the installation/update) possesses all the permissions that the app is requesting or currently has.
    - If your account lacks the necessary permissions, ask a user with sufficient privileges to perform the operation.

    **If the error occurs during manifest processing/validation (Manifest Scope, often related to the `extensions` field):**
    - Examine the full manifest content. Carefully compare the top-level `permissions` array with the `permissions` array within each item of the `extensions` array.
    - Identify the specific extension component and the permission causing the mismatch. Error details from `appFetchManifest`should provide this information.
    - Ensure any permission listed for an extension is also present in the main `permissions` list for the app.
    - Consult the [list of available permissions](/developer/permissions.mdx) to verify the permissions requested by your app.

## AppErrorCode.MANIFEST_URL_CANT_CONNECT
This error means Saleor failed to establish a network connection to or retrieve content from the server hosting the `manifestUrl` (or an icon URL from the manifest).

- **Cause**: This can be due to various network issues such as DNS failures, the server being down, or firewall blocks preventing Saleor from reaching the URL. It can also be caused by request timeouts, or if the manifest/icon server returns an HTTP error (e.g., 404 Not Found, 500 Internal Server Error).
- **Debugging Tips**:
  - Confirm the `manifestUrl` (and any icon URLs if the error points there) are correct and publicly accessible.
  - If the manifest server returned an HTTP error (like 404 or 500), check the logs from the server hosting the manifest/icon to understand why it returned that status code.
  - Perform network diagnostics from the environment where your Saleor background worker runs. For example, try to `curl` or `ping` the `manifestUrl` from that environment to check reachability and the HTTP response.
  - Review firewall configurations for outgoing connections from the background worker, if applicable.
  - If you are using Saleor Cloud and suspect a network issue on Saleor's side after verifying your URL is public, contact Saleor Support.
    - Self-hosted users should check their Saleor instance's network configuration and timeout settings.
    - You can also inspect background worker logs for network request exception details or a generic connection failure message.

## AppErrorCode.INVALID_MANIFEST_FORMAT
This error means the manifest is structurally invalid in multiple ways, or key aspects are malformed. This can include issues like the content not being valid JSON, or other structural problems. It often summarizes multiple specific validation errors found within the manifest content.
- **Cause**: The manifest file does not adhere to the expected structure, contains multiple formatting issues, or is not valid JSON.
- **Debugging Tips**:
  - If the issue is a JSON decode error: 
    - Obtain the raw content fetched from the `manifestUrl` (e.g., using `curl`).
    - Validate the manifest content with a JSON linter.
  - Review the full manifest content carefully for any structural issues.
  - Examine full error returned by Saleor. These often come in a dictionary format, pointing to the specific fields in the manifest that are problematic and why.
  - Refer to Saleor's [App Manifest documentation](/developer/extending/apps/architecture/manifest/) for the correct structure and ensure your manifest adheres to the JSON specification.
  - Preferably use Saleor's app-sdk to construct the manifest according to the docs

## AppErrorCode.REQUIRED
This error means the manifest is missing one or more mandatory top-level fields, identified during the background task validation.

- **Cause**: Mandatory top-level fields like `id`, `version`, `name`, or `tokenTargetUrl` are missing from the manifest.
- **Debugging Tips**:
  - Inspect the full manifest content.
  - Check error details which indicating which specific required field(s) are missing.
  - Refer to Saleor's [App Manifest documentation](/developer/extending/apps/architecture/manifest/) to ensure all required fields are present.

## AppErrorCode.UNIQUE
This error means the `id` field (identifier) in the manifest is already used by another app in your Saleor instance.
This is checked after your request app installation via `appInstall` mutation, during background task validation.

- **Cause**: The app identifier specified in the manifest is not unique within the Saleor instance.
- **Debugging Tips**:
  - Check if your app isn't already installed
  - Choose a different unique identifier for your new app.

## AppErrorCode.UNSUPPORTED_SALEOR_VERSION
This error indicates that the `requiredSaleorVersion` field in the manifest specifies a Saleor version (or a semantic version range) that is incompatible with the current Saleor instance's version.
This is checked after your request app installation via `appInstall` mutation, during background task validation.

- **Cause**: The app requires a Saleor version different from the one the instance is running.
- **Debugging Tips**:
  - Check the `requiredSaleorVersion` string from the manifest (e.g., `^3.10` or `>=3.5 <4.0`).
  - Verify your current Saleor instance version (this can often be found in your Saleor Dashboard or through your deployment details).
  - Ensure your `requiredSaleorVersion` correctly uses semantic versioning (NpmSpec) and that your Saleor instance meets this requirement.

## AppErrorCode.INVALID_PERMISSION
This error occurs when the `permissions` array in the manifest (either the top-level `permissions` array or within an `extensions[].permissions` component) lists one or more permission codenames that are not recognized by Saleor. This is validated by the background task.
- **Cause**: The manifest requests permission codenames that are not valid in Saleor.
- **Debugging Tips**:
  - Review the full manifest content, specifically all `permissions` arrays.
  - Compare these requested permissions with the list of available permissions in your Saleor instance (refer to the Saleor API documentation for `PermissionEnum` or general permissions documentation).
  - Identify the specific unknown permission codename(s) from background worker logs.

## AppErrorCode.INVALID_CUSTOM_HEADERS
This error is raised by the background task when the `customHeaders` field for a webhook defined in the manifest is not a valid JSON object or contains invalid HTTP header names/values.
- **Cause**: The `customHeaders` for a webhook are incorrectly formatted.
- **Debugging Tips**:
  - Review the manifest's `webhooks` section, specifically the `customHeaders` for each webhook. It must be a flat JSON object of strings.
  - Find the exact validation error message from the validator in background worker logs. This will point to the issue (e.g., "Headers must be a dictionary of strings.").
  - Refer to the webhook section of the [App Manifest documentation](/developer/extending/apps/architecture/manifest/).

## AppErrorCode.GRAPHQL_ERROR
This error occurs during background task validation when a webhook's `query` field in the manifest contains syntactically incorrect GraphQL or a query that is not valid for Saleor subscriptions.
- **Cause**: A webhook's GraphQL subscription query is invalid.
- **Debugging Tips**:
  - Examine the manifest's `webhooks` section, specifically the `query` field of the webhook that failed.
  - Find the exact GraphQL validation error message in background worker logs.
  - Test the failing GraphQL subscription query in a GraphQL client that supports subscriptions (like Saleor's API playground available in the Dashboard or other tools) to debug its syntax and validity against the Saleor API schema.

## AppErrorCode.INVALID
This generic error is reported by the background task during various manifest validation checks when a specific field in the manifest has an incorrect value type, is not an allowed enum choice, or fails other specific validation rules not covered by a more distinct error code. This can also apply to app icon issues related to file type or dimensions, or if data from the manifest violates database constraints (e.g., max length) when Saleor tries to save it.
- **Cause**: A field in the manifest has an incorrect value, type, or doesn't meet specific constraints (e.g., extension `target`/`mount`, webhook `isActive`/`events`, brand details, icon format/size). It can also occur if manifest data, when being saved, violates a database validation rule not covered by other errors.
- **Debugging Tips**:
  - Review the full manifest content.
  - Identify the specific field and its problematic value from background worker logs. The error message will usually pinpoint the field and why its value is considered invalid.
  - If the error is a `Django ValidationError` from the logs, check which model fields failed validation and compare with your manifest data.
  - Consult Saleor's [App Manifest documentation](/developer/extending/apps/architecture/manifest/) for the expected type, allowed enum values, or other constraints for that field.
  - If it's an icon issue: check the icon URL, the fetched file type (e.g., PNG, JPG), and its dimensions against Saleor's allowed parameters for app icons.

## AppErrorCode.INVALID_STATUS
This error can be raised during various low-level steps of the app installation process by the background task if specific conditions are met that prevent continuation, often related to an unexpected state or a failure in an installation utility function. The error message contained within this exception is key to understanding the problem.
- **Cause**: A specific, less common problem was encountered during the installation steps, often due to an unexpected internal state or failure in an installation utility.
- **Debugging Tips**:
  - Thoroughly examine background worker logs for the full message string associated with the `AppInstallationError` (which might be reported with this code). This message will provide context on the specific problem.
  - Have the manifest content and `manifest_url` ready for review, as these are often context for such errors.
  - This can also cover entirely unexpected errors (Generic Exceptions). In such cases: 
    - **CRITICAL**: Obtain the full traceback and exception message from background worker logs.
    - Collect the manifest content and `manifest_url`.
    - Note your Saleor version and details about your environment.
    - Look for any preceding log messages in the background worker output that might offer context.
  - If you are using Saleor Cloud and encounter such an error repeatedly, please contact Saleor Support with these details. Self-hosted users should consult Saleor documentation or community channels for troubleshooting guidance based on the traceback.

## AppErrorCode.NOT_FOUND
This error indicates that an App entity (the app record in Saleor's database) could not be found. This typically occurs when an operation (e.g., fetching app details, updating, deleting) references an app ID that does not exist or refers to an app that has been permanently removed.
- **Cause**: The specified app ID does not correspond to an existing, non-removed app in the Saleor database.
- **Debugging Tips**:
  - Verify the app ID you are using in your API request or operation.
  - Check if the app was recently deleted or if the ID is mistyped.

## AppErrorCode.FORBIDDEN
This error code indicates a general "forbidden" action related to an app. 

- **Note**: In the context of fetching an app manifest or icon, HTTP 401 (Unauthorized) or 403 (Forbidden) errors from the remote server are typically handled by raising `AppErrorCode.MANIFEST_URL_CANT_CONNECT`. The specific scenarios where `AppErrorCode.FORBIDDEN` is directly raised during app operations (other than general permission issues covered by `OUT_OF_SCOPE_PERMISSION`) would need to be identified from other parts of the codebase or future implementations.

- **Debugging Tips**:
  - If you encounter this error, check the specific Saleor operation you were attempting and the accompanying error message for more context.
  - Review application logs for more detailed diagnostic information regarding why the action was forbidden.

## Key Debugging Notes

When troubleshooting app installation errors, keep the following general advice in mind:

*   **Background Worker Logs are Paramount**: For issues occurring during the asynchronous installation phase (typically anything after the initial `appInstall` mutation succeeds), the background worker logs are the primary source of detailed error information. Ensure you have access to these logs and can parse them effectively.
*   **AppInstallation Model State**: If an app installation fails, its state in Saleor (often visible in the Dashboard or via API) will be marked as `FAILED`, and a `message` field often contains a summary of the error. This can be a good starting point, but background worker logs will have more detail.
*   **Validate Manifest First**: Before attempting installation, validate your app manifest against Saleor's schema and documentation. Many errors can be caught early by ensuring your manifest is correctly structured and contains all required information with correct types and formats. Use a JSON linter for basic syntax and refer to the [App Manifest documentation](/developer/extending/apps/architecture/manifest/) for detailed schema information.
*   **Network Connectivity**: For network-related issues (e.g., `MANIFEST_URL_CANT_CONNECT`, HTTP errors from the manifest server), always test connectivity *from* the Saleor background worker's environment. Firewalls, DNS issues, or incorrect URLs are common culprits. The manifest URL and any URLs within it (like icon URLs) must be publicly accessible by your Saleor server. If you're on Saleor Cloud and have verified your URL is public but still face issues, contact Saleor Support. Self-hosted users should check their Saleor instance's network configuration.
*   **Saleor Version**: Be mindful of your Saleor instance version and any version requirements specified in the app manifest (`requiredSaleorVersion`). Ensure compatibility.
*   **Permissions**: Double-check that the installing user has the necessary permissions to grant the permissions requested by the app. Also, ensure that permissions requested in the manifest (both at the top level and for extensions) are valid Saleor permission codenames and are consistent (e.g., extension permissions are a subset of top-level permissions). Refer to the Saleor API documentation for `PermissionEnum` or general permissions documentation for a list of available permissions.
*   **Idempotency**: Remember that app installation might involve retries. Ensure your app's endpoints (especially `tokenTargetUrl`) can handle being called multiple times if necessary, although Saleor tries to avoid this for successful installations.
*   **Support and Further Help**: If you are a Saleor Cloud customer and continue to experience issues after following these debugging steps, please contact Saleor Support with details of the error and your manifest. For self-hosted Saleor instances, consult the official Saleor documentation and community forums for further assistance.
