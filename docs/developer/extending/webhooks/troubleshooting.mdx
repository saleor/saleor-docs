---
title: Webhooks Troubleshooting
sidebar_label: Troubleshooting
---

## Retrieving Past Events

You can only access events that are still in `PENDING` or `FAILED` state. If the event delivery was successfully completed (`SUCCESS`), Saleor removes it from the system.

To check details about past event delivery query the list of `eventDeliveries` for that specific webhook

Here's an example query to retrieve webhook deliveries:

```graphql
query WebhookDeliveries {
  webhook(id: "YOUR_WEBHOOK_ID") {
    id
    eventDeliveries(first: 50, sortBy: {direction: DESC, field: CREATED_AT}) {
      edges {
        node {
          id
          createdAt
          status
          payload
          attempts(first: 1) {
            edges {
              node {
                status
                responseStatusCode
                response
              }
            }
          }
        }
      }
    }
  }
}
```

### Retention & Cleanup Policy
Saleor retains the payloads of `PENDING` or `FAILED` event deliveries based on the `EVENT_PAYLOAD_DELETE_PERIOD` environment variable. 
By default, this is set to **14 days**, meaning that after this period, such deliveries are automatically removed.

## Retrying Failed Event Deliveries

Saleor provides a mechanism to retry failed event deliveries using the [`eventDeliveryRetry`](/api-reference/webhooks/mutations/event-delivery-retry) mutation.

To retry a failed event, first get the delivery ID and then send the following mutation:

```graphql
mutation RetryEventDelivery {
  eventDeliveryRetry(id: "EVENT_DELIVERY_ID") {
    delivery {
      id
      status
    }
    errors {
      field
      code
      message
    }
  }
}
```

## Webhook Deactivation

When a app/webhook is deactivated:

1. Any events that are already in the queue will still be processed but will not be delivered to the target URL
2. Events that are picked up from the queue while the app/webhook is disabled will be marked as permanently failed
3. When the app/webhook is reactivated, any remaining events in the queue will be delivered as usual
4. Events that were marked as failed during the deactivation period will not be retried

:::warning
In Saleor versions below 3.22, deactivating an app is not the same as deactivating a webhook â€” even if an app is deactivated, 
its active webhooks will continue to process and deliver events.
:::
