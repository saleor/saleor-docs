---
title: Channel API guide
sidebar_label: API guide
description: Learn how to manage channels using Saleor API. Create, update, and delete channels, reorder warehouses, and get channel details.
---

## Getting Channel Details

Use the [`channel`](api-reference/channels/queries/channel.mdx) query to get channel details.

The `channel` query requires a channel ID or channel slug.

Available fields:

- `id`: Channel object ID
- `slug`: When using channel-dependent queries, the slug is used to select the right channel (for example, when requesting product details).
- `name`: Channel name
- `isActive`: Flag signaling that the channel is available for shop customers.
- `currencyCode`: Currency code used by the channel.
- `hasOrders`: Returns `true` when there are already created orders using that channel. If that's the only channel using this currency, you won't be able to remove it.
- `defaultCountry`: Default country for the channel. The default country is used in checkout to determine stock quantities or calculate taxes when the country is not explicitly provided, either as a query parameter or through a shipping address.
- `warehouses`: Warehouses that are available in the given channel.
- `countries`: List of shippable countries for the channel.
- `availableShippingMethodsPerCountry`: Shipping methods that are available for the channel.
- `stockSettings`: Contains all stock-related settings, e.g., the [allocation strategy](developer/stock/stock-allocation.mdx#allocation-strategies) for the channel.
- `orderSettings`: Channel-specific order settings.
- `checkoutSettings`: Controls automatic checkout completion and error handling.
- `paymentSettings`: Defines the default transaction flow strategy: `AUTHORIZATION` or `CHARGE`.

Request:

```graphql
query {
  channel(slug: "mobile") {
    id
    slug
    name
    isActive
    currencyCode
    hasOrders
    defaultCountry {
      code
      country
    }
    warehouses {
      slug
    }
    countries {
      code
      country
    }
    availableShippingMethodsPerCountry {
      countryCode
      shippingMethods {
        id
        name
      }
    }
    stockSettings {
      allocationStrategy
    }
    orderSettings {
      allowUnpaidOrders
    }
  }
}
```

Response:

```json
{
  "data": {
    "channel": {
      "id": "Q2hhbm5lbDo0MzM=",
      "slug": "mobile",
      "name": "Mobile",
      "isActive": false,
      "currencyCode": "USD",
      "hasOrders": true,
      "defaultCountry": {
        "code": "US",
        "country": "United States of America"
      },
      "warehouses": [
        {
          "slug": "oceania"
        },
        {
          "slug": "europe"
        }
      ],
      "availableShippingMethodsPerCountry": [
        {
          "countryCode": "AD",
          "shippingMethods": [
            {
              "id": "U2hpcHBpbmdNZXRob2Q6Mg==",
              "name": "DHL"
            },
            {
              "id": "U2hpcHBpbmdNZXRob2Q6Mw==",
              "name": "UPS"
            },
            {
              "id": "U2hpcHBpbmdNZXRob2Q6NA==",
              "name": "Registered priority"
            },
            {
              "id": "U2hpcHBpbmdNZXRob2Q6NQ==",
              "name": "DB Schenker"
            }
          ]
        }
        // ... more countries
      ],
      "stockSettings": {
        "allocationStrategy": "PRIORITIZE_HIGH_STOCK"
      },
      "orderSettings": {
        "allowUnpaidOrders": false
      }
    }
  }
}
```

## Permissions

Listing channels is allowed only for users with the active [`isStaff`](api-reference/users/objects/user.mdx#userisstaffboolean---) flag.

You need the `MANAGE_CHANNELS` permission to create, edit, and remove channels.
Changing `ChannelListing` does not require additional permissions. For example, changing product availability requires only the `MANAGE_PRODUCTS` permission.

Objects with customized per-channel visibility are restricted by channel permissions.
If a user with restricted channel access fetches per-channel objects, only objects from accessible channels are returned.
Read more about channel permissions in [Permissions](developer/permissions.mdx).

## Creating a new channel

You can create a new channel using the [`channelCreate`](api-reference/channels/mutations/channel-create.mdx) mutation.
During channel creation, you can define the allocation strategy. Currently, two options are available: `PRIORITIZE_HIGH_STOCK` and `PRIORITIZE_SORTING_ORDER`. 
The `PRIORITIZE_SORTING_ORDER` strategy is used by default. 
Read more about allocation strategies in [Stock allocation](developer/stock/stock-allocation.mdx#allocation-strategies).

Request:

```graphql
mutation {
  channelCreate(
    input: {
      currencyCode: "USD"
      defaultCountry: US
      name: "Mobile"
      slug: "mobile"
      stockSettings: { allocationStrategy: PRIORITIZE_HIGH_STOCK }
    }
  ) {
    channel {
      id
      isActive
      name
      slug
      currencyCode
      defaultCountry {
        code
        country
      }
      stockSettings {
        allocationStrategy
      }
    }
    errors {
      code
      field
      message
    }
  }
}
```

Response:

```json
{
  "data": {
    "channelCreate": {
      "channel": {
        "id": "Q2hhbm5lbDo0MzM=",
        "isActive": false,
        "name": "Mobile",
        "slug": "mobile",
        "currencyCode": "USD",
        "defaultCountry": {
          "code": "US",
          "country": "United States of America"
        },
        "stockSettings": {
          "allocationStrategy": "PRIORITIZE_HIGH_STOCK"
        }
      },
      "errors": []
    }
  }
}
```

## Channel Settings
Each channel can have an independent configuration for orders, checkout, stock, and payments.
These settings are available under the fields: `orderSettings`, `checkoutSettings`, `stockSettings`, and `paymentSettings`.

### Reorder Warehouses Within Channels

The warehouses assigned to the channel can be sorted. The provided order defines the 
warehouses order used in the `PRIORITIZE_SORTING_ORDER` 
[allocation strategy](developer/stock/stock-allocation.mdx#allocation-strategies).
The `sortOrder` in the `moves` input represents the new relative position of the item. 
When `1` is provided, the item is moved one position forward; when `-1`, one position backward.

Assume we have a `channel` with three warehouses in the following order:

```json
{
  "data": {
    "channel": {
      "id": "Q2hhbm5lbDox",
      "warehouses": [
        {
          "id": "V2FyZWhvdXNlOjU1NTZiOWI0LTc1ZTItNGI3YS1hZWM1LTQxOTY4NDA2OGE4OA==",
          "slug": "europe"
        },
        {
          "id": "V2FyZWhvdXNlOjQwZWY1MTQwLWQ5OTYtNDVlNy04NzUzLTlkZThkMTdhMjg1Yw==",
          "slug": "oceania"
        },
        {
          "id": "V2FyZWhvdXNlOjY4M2FkMzZhLTRmNjktNDI2ZS1iYzUyLTMyZGJiZTQ2NjUyZA==",
          "slug": "americas"
        }
      ]
    }
  }
}
```

To move the `americas` warehouse to the first position and the `europe` warehouse to the third position, run the following mutation:

```graphql
mutation {
  channelReorderWarehouses(
    channelId: "Q2hhbm5lbDox"
    moves: [
      {
        # move for `americas` warehouse
        id: "V2FyZWhvdXNlOjY4M2FkMzZhLTRmNjktNDI2ZS1iYzUyLTMyZGJiZTQ2NjUyZA=="
        sortOrder: -2
      }
      {
        # move for `europe` warehouse
        id: "V2FyZWhvdXNlOjU1NTZiOWI0LTc1ZTItNGI3YS1hZWM1LTQxOTY4NDA2OGE4OA=="
        sortOrder: 1
      }
    ]
  ) {
    channel {
      id
      warehouses {
        id
        slug
      }
    }
    errors {
      field
      code
      message
      warehouses
    }
  }
}
```

Response:

```json
{
  "data": {
    "channelReorderWarehouses": {
      "channel": {
        "id": "Q2hhbm5lbDox",
        "warehouses": [
          {
            "id": "V2FyZWhvdXNlOjY4M2FkMzZhLTRmNjktNDI2ZS1iYzUyLTMyZGJiZTQ2NjUyZA==",
            "slug": "americas"
          },
          {
            "id": "V2FyZWhvdXNlOjQwZWY1MTQwLWQ5OTYtNDVlNy04NzUzLTlkZThkMTdhMjg1Yw==",
            "slug": "oceania"
          },
          {
            "id": "V2FyZWhvdXNlOjU1NTZiOWI0LTc1ZTItNGI3YS1hZWM1LTQxOTY4NDA2OGE4OA==",
            "slug": "europe"
          }
        ]
      },
      "errors": []
    }
  }
}
```
### Order Settings
Channel-level `orderSettings` influence how orders behave after being placed (post-checkout or created from draft).
You can define auto-confirmation, gift card auto-fulfillment, order expiration, and whether unpaid orders are allowed.

Read more about [order settings](developer/order/overview.mdx#channel-specific-settings).

### Checkout Settings
Channel-specific checkout behavior allows you to enable automatic completion of paid checkouts.

Read more about [automatic checkout completion](developer/payments/transactions.mdx#automatic-checkout-completion).

### Payment Settings

Channel-level `paymentSettings` influence how the payment flow is handled. Use `defaultTransactionFlowStrategy` to set the default flow.

Read more about the [transaction strategy](developer/payments/transaction-flow-strategy.mdx).

## Channel List

Because some channels may be considered non-public (for example, a channel for business partners), non-staff users cannot use the [`channels`](api-reference/channels/queries/channels.mdx) query.

Request:

```graphql
query {
  channels {
    name
  }
}
```

Response:

```json
{
  "data": {
    "channels": [
      {
        "name": "Mobile"
      },
      {
        "name": "Website"
      }
    ]
  }
}
```
## Managing Channels

### Activate or Deactivate a Channel

To make a channel unavailable for customers, change its status to `deactivated` using the [`channelDeactivate`](api-reference/channels/mutations/channel-deactivate.mdx) mutation:

```graphql
mutation {
  channelDeactivate(slug: "default-channel") {
    channel {
      name
      isActive
    }
    errors {
      message
    }
  }
}
```

Response:

```json
{
  "data": {
    "channelDeactivate": {
      "channel": {
        "name": "Facebook",
        "isActive": false
      },
      "channelErrors": []
    }
  }
}
```

To reverse the previous operation, use the [`channelActivate`](api-reference/channels/mutations/channel-activate.mdx) mutation:

```graphql
mutation {
  channelActivate(slug: "default-channel") {
    channel {
      name
      isActive
    }
    errors {
      message
    }
  }
}
```

Response:

```json
{
  "data": {
    "channelActivate": {
      "channel": {
        "name": "Facebook",
        "isActive": true
      },
      "channelErrors": []
    }
  }
}
```

### Update Channel

Use the [`channelUpdate`](api-reference/channels/mutations/channel-update.mdx) mutation to edit channel fields such as `name`, `slug`, or settings.

### Removing a Channel

Channels can be removed only when:

- There are no orders created in them.
- If there are existing orders, `targetChannel` is required. Its currency must be the same as the channel you are about to delete. 
All orders will be moved to `targetChannel`.

The [`channelDelete`](api-reference/channels/mutations/channel-delete.mdx) mutation takes [input](api-reference/channels/inputs/channel-delete-input.mdx):

- `id`: ID of the channel that will be deleted
- `channelId`: ID of the target channel to which all existing orders will be moved

```graphql
channelDelete(
  id: ID!
  input: ChannelDeleteInput
): ChannelDelete

input ChannelDeleteInput {
  channelId: ID! # ID of the channel to migrate orders from origin channel.
}
```

## Errors

```graphql
type ChannelError {
  field: String
  message: String
  code: ChannelErrorCode!
}

enum ChannelErrorCode {
  ALREADY_EXISTS
  GRAPHQL_ERROR
  INVALID
  NOT_FOUND
  REQUIRED
  UNIQUE
  CHANNEL_TARGET_ID_MUST_BE_DIFFERENT
  CHANNELS_CURRENCY_MUST_BE_THE_SAME
}
```

[`ChannelErrorCode`](api-reference/channels/enums/channel-error-code.mdx) values:

- `ALREADY_EXISTS`: Object already exists in the database
- `GRAPHQL_ERROR`: Wrong query
- `INVALID`: Invalid data provided
- `NOT_FOUND`: Could not found object
- `REQUIRED`: Missing required fields
- `UNIQUE`: Provided value for field needs to be unique
- `CHANNEL_TARGET_ID_MUST_BE_DIFFERENT`: Cannot move orders into the channel you want to delete
- `CHANNELS_CURRENCY_MUST_BE_THE_SAME`: Target channel has to have the same currency
